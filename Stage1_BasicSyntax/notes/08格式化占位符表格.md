# Go 语言格式化输出（fmt 包）核心笔记

**适用人群**：Go 语言新手 | 对数据类型不熟悉，搞不懂`%`占位符用法

**核心工具**：Go 内置`fmt`包（无需额外安装，直接导入即可）

**核心函数**：`fmt.Printf()`（直接打印到控制台）、`fmt.Sprintf()`（格式化后返回字符串，不打印）、`fmt.Fprintf()`（格式化后写入文件 / 流），三者占位符用法完全一致，重点掌握`fmt.Printf()`即可

## 一、核心概念先理清

1. 格式化输出的核心是 **「占位符」**：以`%`开头，后接字符（如`%d`、`%s`），用来**占住位置 **，后续用变量 / 常量填充对应位置

2. 占位符和变量的关系：**一一对应、类型匹配**（占位符指定接收什么类型的数据，后面必须传对应类型的变量，否则报错）

3. 基础语法：

   ```go
   fmt.Printf("格式化字符串%占位符1%占位符2", 变量1, 变量2)
   ```

   示例：

   ```go
   fmt.Printf("我的年龄是%d岁，名字是%s", 18, "小明")
   ```

## 二、快速查询表（收藏备用）

把所有常用占位符按「类型 / 用途」整理，忘记时直接翻表，不用逐行找：

| 占位符 |      适配类型 / 用途      |              核心说明              |
| :----: | :-----------------------: | :--------------------------------: |
|   %d   |         所有整型          |           十进制输出整数           |
|   %f   | 浮点型（float32/float64） |         默认保留 6 位小数          |
|  %.nf  |          浮点型           |    保留 n 位小数，自动四舍五入     |
|   %s   |     字符串（string）      |           原样输出字符串           |
|   %c   |     字符（rune/byte）     |            输出单个字符            |
|   %t   |      布尔型（bool）       |          输出 true/false           |
|   %p   |       所有指针类型        |       输出 0x 开头的内存地址       |
|   %v   |         任意类型          |           最简输出变量值           |
|  %+v   |  任意类型（结构体优先）   |          输出字段名 + 值           |
|  %#v   |         任意类型          | 输出完整类型 + 字段名 + 值（调试） |
|   %b   |           整型            |             二进制输出             |
|   %o   |           整型            |             八进制输出             |
| %x/%X  |           整型            |      十六进制小写 / 大写输出       |
|   %q   |       字符串 / 字符       |             带引号输出             |

## 三、总结 & 新手学习建议

1. **核心优先级**：先死记「基础占位符（% d/% s/% f/% t/% v）」，覆盖 80% 的日常开发需求，其余扩展占位符按需记忆；
2. **万能技巧**：记不清具体占位符时，直接用 **% v**（基础类型）或 **%+v**（结构体），不会出错；
3. **练习方法**：每学一个占位符，写一段简单的测试代码（如上面的示例），运行看效果，比死记硬背快 10 倍；
4. **关键原则**：占位符和变量必须「**数量一致、类型匹配**」，这是格式化输出不报错的核心；
5. **工具包**：所有格式化操作都依赖 Go 内置的`fmt`包，无需额外安装，导入即可使用。

后续学习 Go 的复合类型（如切片、字典、结构体）时，只需要重点掌握`%v/%+v`的用法，其余占位符基本不用额外学习，基础打牢，后续水到渠成。